/* =========================
   C√°ritas CNC ‚Äì Estilos FINAL
   ========================= */

:root {
  --primary:#b91c1c;
  --bg:transparent;
  --text:#fff;
  --muted:#c9c9c9;
  --border:#551010;
  --surface:#1a0000;
  --surface-2:#2a0000;
  --radius-card:14px;
  --radius-btn:999px;
  --shadow-card:0 10px 30px rgba(0,0,0,.65);
  --font-main:'Poppins', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

/* Layout base */
html,
body{
  margin:0;
  padding:0;
  font-family:var(--font-main);
  background:var(--bg);
  color:var(--text);
  min-height:100%;
}

*,
*::before,
*::after{
  box-sizing:border-box;
}

/* Fondo de video */
#video-fondo{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:.5;
  z-index:-1;
  pointer-events:none;
}

/* Contenedor principal */
.container{
  max-width:1100px;
  margin:0 auto;
  padding:0 1rem;
}

/* Tarjetas glass */
.card{
  background:rgba(0,0,0,.10);
  backdrop-filter:blur(4px);
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--radius-card);
  padding:1.1rem 1.2rem;
  margin:1rem auto;
  box-shadow:var(--shadow-card);
}
.card.center{
  text-align:center;
}

/* Header */
.app-header{
  position:sticky;
  top:0;
  z-index:10;
  background:rgba(0,0,0,.22);
  backdrop-filter:blur(6px);
  box-shadow:0 10px 30px rgba(0,0,0,.7);
}
.app-header-inner{
  max-width:1100px;
  margin:0 auto;
  padding:0.7rem 1rem;
}
.app-header h1{
  margin:0;
  font-size:1.5rem;
  letter-spacing:.03em;
}
.app-subtitle{
  margin:0;
  font-size:.85rem;
  color:var(--muted);
}

/* Tipograf√≠a */
h1,h2,h3,h4{
  margin-top:.1rem;
  margin-bottom:.5rem;
}
p{
  margin:.25rem 0 .5rem;
}
.muted{
  color:var(--muted);
  font-size:.85rem;
}
.center{text-align:center;}

code{
  font-family:monospace;
  background:rgba(255,255,255,.06);
  padding:1px 4px;
  border-radius:6px;
}

/* Botones */
.btn,
.btn-ghost{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.35rem;
  padding:.45rem .95rem;
  border-radius:var(--radius-btn);
  font-weight:600;
  border:1px solid transparent;
  cursor:pointer;
  font-size:.9rem;
  text-decoration:none;
}
.btn span,
.btn-ghost span{
  display:inline-block;
}
.btn{
  background:var(--primary);
  border-color:var(--primary);
  color:#fff;
  box-shadow:0 4px 14px rgba(0,0,0,.7);
  transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.btn:hover{
  background:#dc2626;
  transform:translateY(-1px);
  box-shadow:0 8px 24px rgba(0,0,0,.9);
}
.btn-ghost{
  background:transparent;
  border-color:rgba(255,255,255,.25);
  color:#fff;
}
.btn-ghost:hover{
  background:rgba(255,255,255,.08);
}

/* Fila de botones */
.btn-row{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:.75rem;
}

/* Inputs y formularios */
fieldset{
  border:1px solid rgba(255,255,255,.18);
  border-radius:10px;
  margin-bottom:1rem;
}
legend{
  padding:0 .5rem;
  font-size:.9rem;
  color:#fca5a5;
  font-weight:600;
}
label{
  display:block;
  font-size:.9rem;
  margin-bottom:.6rem;
}
input,
select,
textarea{
  width:100%;
  padding:.45rem .6rem;
  border-radius:8px;
  border:1px solid rgba(255,255,255,.2);
  background:rgba(0,0,0,.7);
  color:var(--text);
  font-family:inherit;
  font-size:.9rem;
}
input:focus,
select:focus,
textarea:focus{
  outline:2px solid rgba(248,113,113,.85);
  outline-offset:1px;
}
input::placeholder,
textarea::placeholder{
  color:#9ca3af;
}
input:required,
select:required{
  border-left:3px solid var(--primary);
}

.form-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(210px,1fr));
  gap:.75rem 1rem;
  margin-bottom:.7rem;
}

/* Tablas */
.table-wrapper{
  max-height:420px;
  overflow:auto;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(0,0,0,.12);
  backdrop-filter:blur(3px);
}
table{
  width:100%;
  border-collapse:collapse;
  font-size:.85rem;
}
thead{
  background:rgba(0,0,0,.7);
}
th,td{
  padding:.4rem .35rem;
  border-bottom:1px solid rgba(255,255,255,.06);
}
th{
  text-align:left;
  font-weight:600;
}
tbody tr:nth-child(even){
  background:rgba(255,255,255,.02);
}
tbody tr:hover{
  background:rgba(248,113,113,.12);
}

.pager{
  margin-top:.7rem;
  display:flex;
  justify-content:center;
  gap:.5rem;
}

/* Bot√≥n eliminar */
.btn-del{
  background:#b91c1c;
  border:none;
  color:#fff;
  padding:.25rem .7rem;
  border-radius:8px;
  cursor:pointer;
  font-size:.8rem;
}
.btn-del:hover{
  background:#dc2626;
}

/* Panel de familias */
.familias-panel{
  max-width:1100px;
  margin:0 auto 1rem;
  padding:0 1rem 1rem;
  background:rgba(0,0,0,.12);
  backdrop-filter:blur(4px);
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--radius-card);
  box-shadow:var(--shadow-card);
}
.familias-head{
  display:flex;
  align-items:center;
  gap:.75rem;
  padding:.8rem .2rem .4rem;
}
.familias-head h3{
  margin:0;
  font-size:1rem;
}
.familias-search{
  flex:1;
  max-width:260px;
}
.familias-body{
  padding:.5rem 0 .4rem;
}

/* Galer√≠a */
.gallery{
  margin-top:.7rem;
}
.gallery h3{
  font-size:1rem;
  margin-bottom:.4rem;
}
.gallery-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:.6rem;
}
.gallery-item{
  position:relative;
  overflow:hidden;
  border-radius:12px;
  cursor:pointer;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(0,0,0,.15);
}
.gallery-item img{
  display:block;
  width:100%;
  height:100%;
  object-fit:cover;
  transition:transform .18s ease, filter .18s ease;
}
.gallery-item::after{
  content:"üîç Ver";
  position:absolute;
  right:6px;
  bottom:4px;
  font-size:.7rem;
  padding:2px 6px;
  border-radius:999px;
  background:rgba(0,0,0,.75);
}
.gallery-item:hover img{
  transform:scale(1.05);
  filter:brightness(1.08);
}
.gallery-note{
  margin-top:.45rem;
}

/* Palabras del sacerdote */
.sacerdote-mensaje{
  padding:.5rem .75rem;
  border-radius:12px;
  background:rgba(0,0,0,.10);
  backdrop-filter:blur(4px);
  border:1px solid rgba(255,255,255,.08);
  white-space:pre-wrap;
  margin-bottom:.7rem;
}
.sacerdote-form label{
  margin-bottom:.55rem;
}
.sacerdote-form textarea{
  resize:vertical;
}

/* Tesorer√≠a */
.dash-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:.7rem;
  margin:.7rem 0 .9rem;
}
.stat-card{
  padding:.55rem .7rem;
  border-radius:12px;
  background:rgba(0,0,0,.6);
  border:1px solid rgba(248,113,113,.2);
  box-shadow:0 8px 22px rgba(0,0,0,.7);
}
.stat-card span{
  font-size:.78rem;
  color:var(--muted);
}
.stat-card strong{
  display:block;
  margin-top:.25rem;
  font-size:1.25rem;
}

.teso-filtros{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:.6rem;
  margin-bottom:.9rem;
}
.teso-filtros label{
  margin-bottom:0;
}
.teso-filtros select,
.teso-filtros input[type="month"]{
  width:auto;
  min-width:120px;
}

/* Import CSV */
.teso-import-row{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:.6rem;
  margin:.25rem 0 1rem;
}
.teso-import-label{
  font-size:.85rem;
}
.teso-import-label input[type="file"]{
  display:block;
  margin-top:.25rem;
  font-size:.8rem;
  padding:.25rem .4rem;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.25);
  background:rgba(0,0,0,.75);
}

.teso-layout{
  display:grid;
  grid-template-columns:minmax(260px,320px) minmax(0,1fr);
  gap:1rem;
  align-items:flex-start;
  margin-bottom:1rem;
}
@media (max-width:900px){
  .teso-layout{
    grid-template-columns:1fr;
  }
}
.teso-form,
.teso-chart{
  background:rgba(0,0,0,.10);
  backdrop-filter:blur(4px);
  border:1px solid rgba(255,255,255,.08);
  border-radius:12px;
  padding:.75rem .85rem;
}
.teso-form h3,
.teso-chart h3{
  margin-top:0;
  margin-bottom:.5rem;
  font-size:1rem;
}

#tesoChart{
  width:100%;
  height:260px;
}

/* Resumen por categor√≠as */
.teso-cat-resumen{
  margin-top:.6rem;
  font-size:.8rem;
}
.teso-cat-resumen table{
  width:100%;
  border-collapse:collapse;
}
.teso-cat-resumen th,
.teso-cat-resumen td{
  padding:.25rem .3rem;
  border-bottom:1px solid rgba(255,255,255,.13);
}
.teso-cat-resumen th{
  text-align:left;
  font-weight:600;
}

/* Inputs de tabla tesorer√≠a */
#tesoTable select{
  padding:.2rem .4rem;
  font-size:.8rem;
}
#tesoTable [contenteditable]{
  min-width:70px;
}

/* Buscador simple */
.search,
.familias-search{
  padding:.45rem .6rem;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.3);
  background:rgba(0,0,0,.75);
  color:var(--text);
}

/* Modal gen√©rico */
.modal{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.78);
  z-index:40;
}
.modal.open{
  display:flex;
}
.modal-card{
  width:min(900px, 95vw);
  max-height:90vh;
  background:rgba(0,0,0,.92);
  border-radius:14px;
  border:1px solid rgba(255,255,255,.18);
  box-shadow:0 14px 40px rgba(0,0,0,.9);
  display:flex;
  flex-direction:column;
}
.modal-head{
  padding:.6rem .9rem;
  border-bottom:1px solid rgba(255,255,255,.16);
  display:flex;
  align-items:center;
  gap:.5rem;
}
.modal-head h3{
  margin:0;
  font-size:1rem;
}
.modal-body{
  padding:.75rem .9rem;
  overflow:auto;
}

/* Pesta√±as */
.tabs-card{
  margin-top:1rem;
}
.tabs{
  display:flex;
  flex-wrap:wrap;
  gap:.5rem;
}
.tab-btn{
  display:inline-flex;
  align-items:center;
  gap:.3rem;
  padding:.4rem .9rem;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.35);
  background:rgba(0,0,0,.6);
  color:#fff;
  cursor:pointer;
  font-size:.85rem;
  font-weight:600;
}
.tab-btn span{
  display:inline-block;
}
.tab-btn.active{
  background:var(--primary);
  border-color:var(--primary);
  box-shadow:0 4px 16px rgba(0,0,0,.8);
}

/* T√≠tulo con candado */
.section-title-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.5rem;
}
.icon-lock-btn{
  border:none;
  background:rgba(0,0,0,.7);
  color:#fff;
  border-radius:999px;
  padding:.25rem .6rem;
  font-size:1rem;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 3px 10px rgba(0,0,0,.7);
  transition:background .12s ease, transform .12s ease, box-shadow .12s ease;
}
.icon-lock-btn:hover{
  background:rgba(0,0,0,.95);
  transform:translateY(-1px);
  box-shadow:0 6px 16px rgba(0,0,0,.8);
}
.icon-lock-btn[aria-pressed="false"]{
  background:#16a34a;
}

/* Responsivo */
@media (max-width:640px){
  .card{
    padding:.9rem .85rem;
  }
  .app-header-inner{
    padding:.6rem .85rem;
  }
}